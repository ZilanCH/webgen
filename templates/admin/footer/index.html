{% extends 'layout.html' %}
{% block content %}
<section class="card">
  <div class="heading">
    <h1>Footer</h1>
    <a class="button" href="{{ url_for('admin_create_footer_link') }}">Add link</a>
  </div>
  <form method="post" class="form-grid">
    <label>
      Footer text
      <textarea name="footer_text" rows="2" placeholder="Footer text">{{ footer_text }}</textarea>
      <div class="hint">Supports plain text. Combine with links below for legal or help URLs.</div>
    </label>
    <button type="submit">Save footer</button>
  </form>
</section>

<section class="card" style="margin-top: 16px;">
  <div class="heading">
    <h2>Links</h2>
    <a class="button ghost" href="{{ url_for('admin_create_footer_link') }}">New link</a>
  </div>
  {% if links %}
    <div class="table">
      <div class="table-row header">
        <div>Label</div>
        <div>URL</div>
        <div>Position</div>
        <div>Actions</div>
      </div>
      {% for link in links %}
      <div class="table-row">
        <div>{{ link.label }}</div>
        <div>{{ link.url }}</div>
        <div>{{ link.position }}</div>
        <div class="actions">
          <a href="{{ url_for('admin_edit_footer_link', link_id=link.id) }}">Edit</a>
          <form method="post" action="{{ url_for('admin_delete_footer_link', link_id=link.id) }}" onsubmit="return confirm('Delete this link?');">
            <button type="submit" class="link">Delete</button>
          </form>
        </div>
      </div>
      {% endfor %}
    </div>
  {% else %}
    <p class="hint">No footer links yet.</p>
  {% endif %}
</section>
{% endblock %}
